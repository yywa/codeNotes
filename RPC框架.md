# RPC框架

​		**目前市面上的RPC框架有Dubbo，Motan，rpcx，gRpc，thrift。**

### Dubbo

​		阿里巴巴开源框架。底层协议用的内部dubbo协议。

### Motan

​		Motan 是一套高性能、易于使用的分布式远程服务调用(RPC)框架。由新浪微博开源。

### rpcx

​		rpcx是Go语言生态圈的Dubbo， 比Dubbo更轻量，实现了Dubbo的许多特性，借助于Go语言优秀的并发特性和简洁语法，可以使用较少的代码实现分布式的RPC服务。

### gRpc

​		gRpc是Google开发的高性能、通用的开源RPC框架，其由Google主要面向移动应用开发并基于HTTP/2协议标准而设计，基于ProtoBuf(Protocol Buffers)序列化协议开发，且支持众多开发语言。**本身它不是分布式的**，所以要实现上面的框架的功能需要进一步的开发。

### thrift

​		thrift是Apache的一个跨语言的高性能的服务框架。

## RPC框架比对

|                  | Dubbo | Montan                            | rpcx | gRPC               | Thrift         |
| :--------------- | :---- | :-------------------------------- | :--- | :----------------- | :------------- |
| 开发语言         | Java  | Java                              | Go   | 跨语言             | 跨语言         |
| 分布式(服务治理) | √     | √                                 | √    | ×                  | ×              |
| 多序列化框架支持 | √     | √ (当前支持Hessian2、Json,可扩展) | √    | × (只支持protobuf) | × (thrift格式) |
| 多种注册中心     | √     | √                                 | √    | ×                  | ×              |
| 管理中心         | √     | √                                 | √    | ×                  | ×              |
| 跨编程语言       | ×     | × (支持php client和C server)      | ×    | √                  | √              |

## 序列化比对

|      | Thrift                                       | Protobuf                                                     | XML                                  | JSON                                     |
| ---- | -------------------------------------------- | ------------------------------------------------------------ | ------------------------------------ | ---------------------------------------- |
|      | 序列化之后的数据是Binary数组，不具备可读性。 | .proto文件，可以通过代码生成工具生成对应数据结构的POJO对象和相关的方法属性 | 可读性高，但文件庞大，不能序列化方法 | 可读性高，易于读写，不适合ms级别的情况。 |
|      | 无法支持向持久层直接读写数据                 | 依赖于代码生成工具。                                         | 一般被定义用为配置文件。             | 适合于s级别响应。例如WEB服务。           |
|      | 支持二进制压缩                               |                                                              |                                      |                                          |

![image-20201015212541959](/Users/yuanyawei/Library/Application Support/typora-user-images/image-20201015212541959.png)

![image-20201015212550911](/Users/yuanyawei/Library/Application Support/typora-user-images/image-20201015212550911.png)